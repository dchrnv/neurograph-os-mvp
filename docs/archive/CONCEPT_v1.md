# NeuroGraph OS - Концепция проекта

> **Когнитивная архитектура на основе пространственной карты знаний**

---

## Ключевая идея

**NeuroGraph OS** - это система построения и использования многомерной карты знаний, где:

- **Карта** = 8 семантических слоёв координат + Токены + Граф связей
- **Карта не думает** - она структура данных для хранения знаний
- **Думают нейронки** - они читают и пишут на карту

---

## Базовая метафора

Представь **атлас мира**, но не географический, а семантический:

- **8 слоёв** - как разные карты (физическая, политическая, климатическая...)
- **Токены** - точки на карте (города, события, объекты)
- **Граф** - связи между точками (дороги, торговые пути, отношения)
- **Нейронки** - путешественники, которые читают карту и добавляют новые маршруты

---

## Пример: "Спелое красное яблоко"

### 1. Токены и их координаты в 8 пространствах

**Токен: "яблоко"**
- **L1 Physical**: [размер ≈ 0.1м, форма = сферическая]
- **L2 Sensory**: [цвет = красный_спектр, текстура = гладкая]
- **L3 Motor**: [можно_держать = да, вес = лёгкий]
- **L4 Emotional**: [приятное = 0.7]
- **L5 Cognitive**: [категория = фрукт, абстракция = еда]
- **L6 Social**: [распространённость = высокая]
- **L7 Temporal**: [сезонность = осень]
- **L8 Abstract**: [съедобное = да, натуральное = да]

**Токен: "красный"**
- **L2 Sensory**: [координаты в цветовом спектре]
- **L8 Abstract**: [свойство_цвета]

**Токен: "спелое"**
- **L7 Temporal**: [стадия_развития = завершённая]
- **L8 Abstract**: [свойство_состояния]

**Токен: "вкусное"**
- **L2 Sensory**: [вкус = сладкий]
- **L4 Emotional**: [valence = положительная]

**Токен: "кислое"**
- **L2 Sensory**: [вкус = кислый]
- **L4 Emotional**: [valence = нейтральная/негативная]

### 2. Граф связей

```
яблоко --[имеет_цвет]--> красный
яблоко --[имеет_состояние]--> спелое
яблоко --[категория]--> фрукт
яблоко --[может_быть]--> вкусное
яблоко --[может_быть]--> кислое

спелое --[обычно]--> вкусное  (сильная связь)
незрелое --[обычно]--> кислое  (сильная связь)

фрукт --[является]--> еда
фрукт --[свойство]--> съедобное
```

### 3. Как это работает

**Когда система видит яблоко:**

1. **Проектор** (Projector):
   - Получает данные: зрение = [красный, круглый], вес = [лёгкий]
   - **"Высвечивает"** на карте токены: "яблоко", "красный", "фрукт"
   - Активирует связанные токены через граф

2. **Энкодер** (Encoder):
   - Получает запрос: "что это?"
   - **Читает граф**: яблоко → фрукт → съедобное
   - Возвращает: "это красное яблоко, фрукт, съедобное"

3. **Запрос "какое на вкус?"**:
   - Энкодер видит связи: яблоко → спелое → вкусное (сильная связь 0.8)
   - Энкодер видит: яблоко → кислое (слабая связь 0.2)
   - Возвращает: "вероятно вкусное" (по весам связей)

---

## Архитектура: три слоя

### Слой 1: КАРТА (пассивная структура данных)

**Состав:**
- **8 семантических координатных пространств** - размечают поля смыслов
- **Токены** - точки в этих пространствах
- **Граф** - связи между токенами с весами

**Карта НЕ думает** - это просто хранилище структурированных знаний.

**Аналогия:** Библиотека с книгами и каталогом - сама не читает, но организует информацию.

### Слой 2: НЕЙРОНКИ (активные обработчики)

**Проектор (Projector):**
- Получает входные данные (сенсоры, текст, события)
- Находит соответствующие токены на карте
- "Подсвечивает" их (активирует)

**Энкодер (Encoder/Decoder):**
- Читает активированные токены
- Обходит граф по связям
- Формирует ответ/действие

**Мини-нейронки:**
- Специализированные обработчики паттернов
- Каждая отвечает за свой домен (эмоции, логика, движение...)
- Используют карту как рабочую память

### Слой 3: ДНК и ГЕНОМ (правила системы)

**CDNA (Constitutional DNA) - ДНК токенов:**
- Правила создания токенов
- Ограничения координат
- Типы токенов и их свойства

**Геном (Genome) - правила взаимосвязей:**
- Какие модули могут взаимодействовать
- Как модули читают/пишут карту
- Протоколы обмена данными между модулями

**Аналогия:** Конституция страны - определяет как всё должно работать, но сама не управляет.

---

## Ключевые принципы

### 1. Разделение карты и мышления

**Карта** - это память, структура знаний
**Нейронки** - это обработка, использование знаний

Почему важно:
- Карту можно сохранить, передать, скопировать
- Нейронки можно менять независимо от карты
- Разные нейронки могут работать с одной картой

### 2. Ограничение набора данных

Чтобы не перегрузить модель, можно:
- Ограничить домен (только фрукты, только эмоции...)
- Ограничить глубину графа (не более 5 связей)
- Использовать забывание (слабые связи удаляются)

### 3. Максимум связей = максимум знаний

Задача системы: **построить максимальное количество связей со всеми их качествами**

Чем больше связей:
- Тем богаче карта
- Тем точнее ответы
- Тем больше паттернов может найти система

### 4. Связи имеют качества

Связь - это не просто линия, а структура с данными:
- **Тип связи**: "является", "имеет_свойство", "причина", "часть_от"...
- **Вес связи**: 0.0-1.0 (насколько сильная/часто используемая)
- **Направление**: однонаправленная или двунаправленная
- **Контекст**: при каких условиях связь активна

Пример:
```
яблоко --[имеет_цвет, вес=0.7]--> красный
яблоко --[имеет_цвет, вес=0.3]--> зелёный
```

Означает: яблоки чаще красные (0.7) чем зелёные (0.3)

---

## Как система обучается

### Обучение = изменение карты

**Что меняется:**
1. **Новые токены** - появляются новые понятия
2. **Новые связи** - обнаруживаются новые отношения
3. **Веса связей** - часто используемые связи усиливаются, редкие - ослабевают
4. **Координаты токенов** - уточняются позиции в пространствах

### Пример обучения

**День 1:** Пользователь: "Я люблю красные яблоки"
```
создаётся связь: пользователь --[любит, вес=0.5]--> яблоко(красное)
```

**День 5:** Пользователь снова выбирает красное яблоко
```
связь усиливается: пользователь --[любит, вес=0.7]--> яблоко(красное)
```

**День 10:** Пользователю предлагают зелёное яблоко - отказывается
```
создаётся связь: пользователь --[не_любит, вес=0.6]--> яблоко(зелёное)
```

**Результат обучения:**
Система теперь **знает** предпочтения пользователя и при запросе "что предложить?" выберет красное яблоко с высокой вероятностью.

---

## Чем отличается от других AI

### Обычный AI (LLM, нейросети):

- ❌ "Чёрный ящик" - непонятно что внутри
- ❌ Нельзя посмотреть что система знает
- ❌ Нельзя вручную исправить знание
- ❌ Обучение требует переобучения всей модели

### NeuroGraph OS:

- ✅ **Прозрачная карта** - можно посмотреть все токены и связи
- ✅ **Инспектируемость** - видно почему система так ответила
- ✅ **Редактируемость** - можно добавить/удалить связь вручную
- ✅ **Инкрементальное обучение** - добавляются новые связи без переобучения
- ✅ **Личная карта** - каждый пользователь имеет свою уникальную карту мира

---

## Применение: AI-ассистент

### Концепция: ассистент, который обучается взаимодействуя с пользователем

**Как это работает:**

1. **Первая встреча** - карта пустая или содержит базовые знания

2. **Общение** - каждое взаимодействие добавляет токены и связи:
   - Пользователь говорит → создаются токены из слов
   - Токены связываются по контексту
   - Эмоциональная окраска записывается в L4
   - Предпочтения пользователя записываются в граф

3. **Со временем** - карта становится персональной:
   - Система знает интересы пользователя
   - Помнит историю взаимодействий
   - Понимает контекст разговора
   - Предлагает релевантные ответы на основе графа

4. **Уникальность** - у каждого пользователя своя карта:
   - Одно и то же слово может иметь разные связи
   - Приоритеты и веса связей индивидуальны
   - Система адаптируется под стиль общения

### Пример сценария

**Неделя 1:**
Пользователь: "Я программист, люблю Python"
```
Карта: [пользователь] --[профессия]--> [программист]
       [пользователь] --[любит]--> [Python]
       [Python] --[категория]--> [язык_программирования]
```

**Неделя 2:**
Пользователь: "Посоветуй что почитать"

Система:
1. Активирует токен [пользователь]
2. Читает граф: программист → Python
3. Ищет связи: Python → [книги_по_Python]
4. Возвращает: "Fluent Python" или "Python Tricks"

**Месяц 1:**
Пользователь: "Какой фреймворк выбрать?"

Система:
1. Видит историю: [пользователь] много спрашивал про [web]
2. Граф: Python → [web_фреймворки] → [Django, FastAPI, Flask]
3. Веса связей показывают что FastAPI упоминался чаще
4. Предлагает: "Попробуй FastAPI, он современный и быстрый"

**Через полгода:**
Система построила богатый граф:
- Знает технический стек пользователя
- Помнит решённые проблемы
- Понимает стиль работы
- Предлагает персонализированные советы

---

## Ограничения и реализм

### Что система НЕ делает (пока):

- ❌ Не понимает язык "из коробки" - нужен парсер (LLM или NLP)
- ❌ Не генерирует текст - только находит связи и токены
- ❌ Не рассуждает логически - только обходит граф
- ❌ Не имеет "общих знаний" - только то, что ей дали

### Реалистичные ожидания:

**v0.11 (GraphEngine + PostgreSQL):**
- ✅ Карта сохраняется навсегда
- ✅ Можно добавлять токены и связи
- ✅ Можно искать по графу
- ❌ Пока нет автоматического создания из текста
- ❌ Пока нет обучения (только ручное добавление)

**v0.12 (Experience Stream):**
- ✅ Система запоминает историю взаимодействий
- ✅ Можно отслеживать паттерны использования
- ✅ Веса связей меняются со временем
- ❌ Пока нет автоматического парсинга смысла

**v1.0 (Мини-нейронки + Intuition):**
- ✅ Автоматический анализ паттернов
- ✅ Предложения новых связей
- ✅ Адаптивное поведение
- ✅ Полноценный AI-ассистент

### Как заполнять карту на старте:

**Вариант 1: Вручную** (для экспериментов)
- Создаёшь токены через API
- Добавляешь связи вручную
- Тестируешь логику на малом графе

**Вариант 2: Через внешний LLM** (ChatGPT/Claude как переводчик)
- Пользователь пишет текст
- LLM извлекает сущности и отношения
- Система создаёт токены и связи на карте
- LLM больше не нужен - карта уже построена

**Вариант 3: Гибридный**
- Базовые знания загружаются из онтологии (словарь, общие понятия)
- Персональные знания собираются через взаимодействие
- Система растёт постепенно

---

## Долгосрочное видение

**Через 1 год:**
Пользователь имеет персональную карту на 100 000 токенов и 500 000 связей, которая знает:
- Его предпочтения во всех областях
- Историю решений и их результаты
- Контекст всех проектов
- Стиль мышления и общения

**Через 5 лет:**
Карты пользователей могут:
- Обмениваться знаниями (экспорт/импорт подграфов)
- Объединяться (команда = общая карта + личные карты)
- Эволюционировать (автоматическое обнаружение паттернов)
- Становиться экспертными системами в узких доменах

**Философия:**
Каждый человек строит свою уникальную карту мира на протяжении жизни. NeuroGraph OS - это инструмент чтобы эту карту:
- Зафиксировать (сохранить знания)
- Структурировать (организовать мысли)
- Использовать (получать инсайты)
- Развивать (обучаться вместе с системой)

---

**NeuroGraph OS** - это не просто AI, это **расширение твоего мышления в цифровой форме**.

---

*Документ описывает концепцию v0.10-v1.0
Автор: Chernov Denys
Дата: 2025-01-19*
